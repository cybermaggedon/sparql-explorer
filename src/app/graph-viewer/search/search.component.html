
<div class="box info" id="selection">

  <h2>Search</h2>

  <div>

    <form [formGroup]="searchForm" (ngSubmit)="submit()">
      
      <span class="p-input-icon-left">
	<i class="pi pi-search"></i>
	<input type="text" pInputText placeholder="Search"
	       formControlName="search"/>
      </span>

      <button type="submit"
	      pButton pRipple class="p-button-raised p-button-text"
	      >
	Search
      </button>

    </form>

  </div>

  <div *ngIf="!executed">
    Simple search facility, only does sub-string text match at the moment.
  </div>

  <div *ngIf="results.length > 0">
    <h2>Results</h2>
    <p-table [value]="results" styleClass="p-datatable-striped"
	     [tableStyle]="{'min-width': '20rem'}" >
      <ng-template pTemplate="header">
	<tr>
          <th>Entity</th>
          <th>Property</th>
          <th>Value</th>
	</tr>
      </ng-template>
      <ng-template pTemplate="body" let-row>
	<tr>
          <td>
	    <button (click)="select(row.id)"
		    pButton pRipple type="button" class="p-button-text"
		    >
	      {{row.entity}}
	  </button></td>
          <td>{{row.property}}</td>
          <td>{{row.value}}</td>
	</tr>
      </ng-template>
    </p-table>

  </div>

  <div *ngIf="executed && results.length == 0">
    <h2>No results.</h2>
  </div>

</div>

